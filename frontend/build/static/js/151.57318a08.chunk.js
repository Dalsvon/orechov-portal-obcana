"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[151],{151:(e,s,o)=>{o.r(s),o.d(s,{default:()=>u});var t=o(43),a=o(216),d=o(831),l=o(437),r=o(709),n=o(428),i=o(367),c=o(579);const u=()=>{const[e,s]=(0,t.useState)(""),[o,u]=(0,t.useState)(""),[m,h]=(0,t.useState)(""),[x,g]=(0,t.useState)(""),[p,b]=(0,t.useState)(""),f=(0,d.lZ)(l.P),w=(0,a.Zp)();return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(i.mg,{children:(0,c.jsx)("title",{children:"Administrace | Port\xe1l ob\u010dana obce O\u0159echov"})}),(0,c.jsx)("div",{className:"max-w-6xl mx-auto p-6",children:(0,c.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,c.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,c.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Nahr\xe1t dokument"}),(0,c.jsx)(n.A,{onUploadComplete:()=>{}})]}),(0,c.jsxs)("div",{className:"space-y-8",children:[(0,c.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,c.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Zm\u011bnit heslo"}),(0,c.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),g(""),b(""),o===m)try{await r.A.post("/api/auth/change-password",{currentPassword:e,newPassword:o}),b("Heslo bylo \xfasp\u011b\u0161n\u011b zm\u011bn\u011bno"),s(""),u(""),h("")}catch(x){var a,d;g((null===(a=x.response)||void 0===a||null===(d=a.data)||void 0===d?void 0:d.error)||"Chyba p\u0159i zm\u011bn\u011b hesla")}else g("Nov\xe1 hesla se neshoduj\xed")},className:"space-y-4",children:[(0,c.jsx)("input",{type:"text",autoComplete:"username",value:"admin","aria-hidden":"true",style:{display:"none"},readOnly:!0}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Sou\u010dasn\xe9 heslo"}),(0,c.jsx)("input",{type:"password",value:e,onChange:e=>s(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0,autoComplete:"current-password"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Nov\xe9 heslo"}),(0,c.jsx)("input",{type:"password",value:o,onChange:e=>u(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0,autoComplete:"new-password"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Potvrdit nov\xe9 heslo"}),(0,c.jsx)("input",{type:"password",value:m,onChange:e=>h(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0,autoComplete:"new-password"})]}),x&&(0,c.jsx)("div",{className:"text-red-600 text-sm",children:x}),p&&(0,c.jsx)("div",{className:"text-green-600 text-sm",children:p}),(0,c.jsx)("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:"Zm\u011bnit heslo"})]})]}),(0,c.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,c.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Odhl\xe1\u0161en\xed"}),(0,c.jsx)("button",{onClick:async()=>{try{await r.A.post("/api/auth/logout"),f(!1),w("/")}catch(x){console.error("Logout error:",x)}},className:"w-full bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",children:"Odhl\xe1sit se"})]})]})]})})]})}}}]);
//# sourceMappingURL=151.57318a08.chunk.js.map