{"version":3,"file":"static/js/556.456e7586.chunk.js","mappings":"kMAOA,MAoGA,EApG6BA,KAC3B,MAAOC,EAAUC,IAAeC,EAAAA,EAAAA,UAAS,KAClCC,EAAUC,IAAeF,EAAAA,EAAAA,UAAS,KAClCG,EAAcC,IAAmBJ,EAAAA,EAAAA,WAAS,IAC1CK,EAAOC,IAAYN,EAAAA,EAAAA,UAAwB,MAC5CO,GAAaC,EAAAA,EAAAA,IAAkBC,EAAAA,GAC/BC,GAAWC,EAAAA,EAAAA,MAkBjB,OACEC,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEC,EAAAA,EAAAA,KAACC,EAAAA,GAAM,CAAAF,UACLC,EAAAA,EAAAA,KAAA,SAAAD,SAAO,uEAETC,EAAAA,EAAAA,KAAA,OAAKE,UAAU,sFAAqFH,UAClGF,EAAAA,EAAAA,MAAA,OAAKK,UAAU,4BAA2BH,SAAA,EACxCC,EAAAA,EAAAA,KAAA,OAAAD,UACEC,EAAAA,EAAAA,KAAA,MAAIE,UAAU,yDAAwDH,SAAC,mBAIzEF,EAAAA,EAAAA,MAAA,QAAMK,UAAU,iBAAiBC,SA5BpBC,UACnBC,EAAEC,iBACFf,EAAS,MACTF,GAAgB,GAEhB,UACQkB,EAAAA,EAAcC,KAAK,kBAAmB,CAAEzB,WAAUG,aACxDM,GAAW,GACXG,EAAS,IACX,CAAE,MAAOL,GAAa,IAADmB,EAAAC,EACnBnB,GAAuB,QAAdkB,EAAAnB,EAAMqB,gBAAQ,IAAAF,GAAM,QAANC,EAAdD,EAAgBG,YAAI,IAAAF,OAAN,EAAdA,EAAsBpB,QAAS,oDAC1C,CAAC,QACCD,GAAgB,EAClB,GAe8DU,SAAA,EACtDF,EAAAA,EAAAA,MAAA,OAAKK,UAAU,mCAAkCH,SAAA,EAC/CF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,SAAOa,QAAQ,WAAWX,UAAU,UAASH,SAAC,cAG9CC,EAAAA,EAAAA,KAAA,SACEc,GAAG,WACHC,KAAK,WACLC,KAAK,OACLC,UAAQ,EACRf,UAAU,6NACVgB,YAAY,WACZC,MAAOpC,EACPqC,SAAWf,GAAMrB,EAAYqB,EAAEgB,OAAOF,OACtCG,SAAUlC,EACVmC,aAAa,iBAGjB1B,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,SAAOa,QAAQ,WAAWX,UAAU,UAASH,SAAC,cAG9CC,EAAAA,EAAAA,KAAA,SACEc,GAAG,WACHC,KAAK,WACLC,KAAK,WACLC,UAAQ,EACRf,UAAU,6NACVgB,YAAY,WACZC,MAAOjC,EACPkC,SAAWf,GAAMlB,EAAYkB,EAAEgB,OAAOF,OACtCG,SAAUlC,EACVmC,aAAa,2BAKlBjC,IACCU,EAAAA,EAAAA,KAAA,OAAKE,UAAU,2BAA0BH,UACvCC,EAAAA,EAAAA,KAAA,OAAKE,UAAU,OAAMH,UACnBC,EAAAA,EAAAA,KAAA,OAAKE,UAAU,OAAMH,UACnBC,EAAAA,EAAAA,KAAA,MAAIE,UAAU,mCAAkCH,SAAET,WAM1DU,EAAAA,EAAAA,KAAA,OAAAD,UACEC,EAAAA,EAAAA,KAAA,UACEgB,KAAK,SACLM,SAAUlC,EACVc,UAAU,0PAAyPH,SAElQX,EAAe,gBAAkB,wBAM7C,C","sources":["forms/AdminLogin.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useSetRecoilState } from 'recoil';\r\nimport { isAdminState } from '../atoms/atoms';\r\nimport axiosInstance from '../services/axiosInstance';\r\nimport { Helmet } from 'react-helmet-async';\r\n\r\nconst AdminLogin: React.FC = () => {\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const setIsAdmin = useSetRecoilState(isAdminState);\r\n  const navigate = useNavigate();\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setError(null);\r\n    setIsSubmitting(true);\r\n\r\n    try {\r\n      await axiosInstance.post('/api/auth/login', { username, password });\r\n      setIsAdmin(true);\r\n      navigate('/');\r\n    } catch (error: any) {\r\n      setError(error.response?.data?.error || 'Nepodařilo se prihlásit. Skuste to znovu.');\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>Prihlášení | Portál občana obce Ořechov</title>\r\n      </Helmet>\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\r\n        <div className=\"max-w-md w-full space-y-8\">\r\n          <div>\r\n            <h2 className=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">\r\n              Admin Login\r\n            </h2>\r\n          </div>\r\n          <form className=\"mt-8 space-y-6\" onSubmit={handleSubmit}>\r\n            <div className=\"rounded-md shadow-sm -space-y-px\">\r\n              <div>\r\n                <label htmlFor=\"username\" className=\"sr-only\">\r\n                  Username\r\n                </label>\r\n                <input\r\n                  id=\"username\"\r\n                  name=\"username\"\r\n                  type=\"text\"\r\n                  required\r\n                  className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm\"\r\n                  placeholder=\"Username\"\r\n                  value={username}\r\n                  onChange={(e) => setUsername(e.target.value)}\r\n                  disabled={isSubmitting}\r\n                  autoComplete=\"username\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label htmlFor=\"password\" className=\"sr-only\">\r\n                  Password\r\n                </label>\r\n                <input\r\n                  id=\"password\"\r\n                  name=\"password\"\r\n                  type=\"password\"\r\n                  required\r\n                  className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm\"\r\n                  placeholder=\"Password\"\r\n                  value={password}\r\n                  onChange={(e) => setPassword(e.target.value)}\r\n                  disabled={isSubmitting}\r\n                  autoComplete=\"current-password\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {error && (\r\n              <div className=\"rounded-md bg-red-50 p-4\">\r\n                <div className=\"flex\">\r\n                  <div className=\"ml-3\">\r\n                    <h3 className=\"text-sm font-medium text-red-800\">{error}</h3>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            <div>\r\n              <button\r\n                type=\"submit\"\r\n                disabled={isSubmitting}\r\n                className=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50\"\r\n              >\r\n                {isSubmitting ? 'Signing in...' : 'Sign in'}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n  </>\r\n  );\r\n};\r\n\r\nexport default AdminLogin;"],"names":["AdminLogin","username","setUsername","useState","password","setPassword","isSubmitting","setIsSubmitting","error","setError","setIsAdmin","useSetRecoilState","isAdminState","navigate","useNavigate","_jsxs","_Fragment","children","_jsx","Helmet","className","onSubmit","async","e","preventDefault","axiosInstance","post","_error$response","_error$response$data","response","data","htmlFor","id","name","type","required","placeholder","value","onChange","target","disabled","autoComplete"],"sourceRoot":""}